/*! ng-dialog - v0.2.10 (https://github.com/likeastore/ngDialog) */
!function(a,b){"use strict";var c=b.module("ngDialog",[]),d=b.element,e=b.isDefined,f=(document.body||document.documentElement).style,g=e(f.animation)||e(f.WebkitAnimation)||e(f.MozAnimation)||e(f.MsAnimation)||e(f.OAnimation),h="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",i=!1;c.provider("ngDialog",function(){var c=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,appendTo:!1};this.setForceBodyReload=function(a){i=a||!1},this.setDefaults=function(a){b.extend(c,a)};var e,f=0,j=0,k={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window",function(l,m,n,o,p,q,r,s){var t=l.find("body");i&&q.$on("$locationChangeSuccess",function(){t=l.find("body")});var u={onDocumentKeydown:function(a){27===a.keyCode&&v.close()},setBodyPadding:function(a){var b=parseInt(t.css("padding-right")||0,10);t.css("padding-right",b+a+"px"),t.data("ng-dialog-original-padding",b)},resetBodyPadding:function(){var a=t.data("ng-dialog-original-padding");a?t.css("padding-right",a+"px"):t.css("padding-right","")},closeDialog:function(b){var c=b.attr("id");"undefined"!=typeof a.Hammer?a.Hammer(b[0]).off("tap",e):b.unbind("click"),1===j&&t.unbind("keydown"),b.hasClass("ngdialog-closing")||(j-=1),g?b.unbind(h).bind(h,function(){b.scope().$destroy(),b.remove(),0===j&&(t.removeClass("ngdialog-open"),u.resetBodyPadding())}).addClass("ngdialog-closing"):(b.scope().$destroy(),b.remove(),0===j&&(t.removeClass("ngdialog-open"),u.resetBodyPadding())),k[c]&&(k[c].resolve({id:c,$dialog:b,remainingDialogs:j}),delete k[c]),q.$broadcast("ngDialog.closed",b)}},v={open:function(g){function h(a){return a?b.isString(a)&&l.plain?a:m.get(a)||p.get(a,{cache:!0}):"Empty template"}var i=this,l=b.copy(c);g=g||{},b.extend(l,g),f+=1,i.latestID="ngdialog"+f;var w;k[i.latestID]=w=o.defer();var x,y,z=b.isObject(l.scope)?l.scope.$new():q.$new();return o.when(h(l.template)).then(function(c){return c=b.isString(c)?c:c.data&&b.isString(c.data)?c.data:"",m.put(l.template,c),l.showClose&&(c+='<div class="ngdialog-close"></div>'),i.$result=x=d('<div id="ngdialog'+f+'" class="ngdialog"></div>'),x.html('<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+c+"</div>"),l.controller&&b.isString(l.controller)&&x.attr("ng-controller",l.controller),l.className&&x.addClass(l.className),l.data&&b.isString(l.data)&&(z.ngDialogData="{"===l.data.replace(/^\s*/,"")[0]?b.fromJson(l.data):l.data),y=l.appendTo&&b.isString(l.appendTo)?b.element(document.querySelector(l.appendTo)):t,z.closeThisDialog=function(){u.closeDialog(x)},r(function(){n(x)(z);var a=s.innerWidth-t.prop("clientWidth");t.addClass("ngdialog-open");var b=a-(s.innerWidth-t.prop("clientWidth"));b>0&&u.setBodyPadding(b),y.append(x),q.$broadcast("ngDialog.opened",x)}),l.closeByEscape&&t.bind("keydown",u.onDocumentKeydown),e=function(a){var b=l.closeByDocument?d(a.target).hasClass("ngdialog-overlay"):!1,c=d(a.target).hasClass("ngdialog-close");(b||c)&&v.close(x.attr("id"))},"undefined"!=typeof a.Hammer?a.Hammer(x[0]).on("tap",e):x.bind("click",e),j+=1,v}),{id:"ngdialog"+f,closePromise:w.promise,close:function(){u.closeDialog(x)}}},openConfirm:function(a){var c=o.defer(),d={closeByEscape:!1,closeByDocument:!1};b.extend(d,a),d.scope=b.isObject(d.scope)?d.scope.$new():q.$new(),d.scope.confirm=function(a){c.resolve(a),e.close()};var e=v.open(d);return e.closePromise.then(function(){c.reject()}),c.promise},close:function(a){var b=d(document.getElementById(a));return b.length?u.closeDialog(b):v.closeAll(),v},closeAll:function(){var a=document.querySelectorAll(".ngdialog");b.forEach(a,function(a){u.closeDialog(d(a))})}};return v}]}),c.directive("ngDialog",["ngDialog",function(a){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=b.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";b.isDefined(e.ngDialogClosePrevious)&&a.close(e.ngDialogClosePrevious),a.open({template:e.ngDialog,className:e.ngDialogClass,controller:e.ngDialogController,scope:f,data:e.ngDialogData,showClose:"false"===e.ngDialogShowClose?!1:!0,closeByDocument:"false"===e.ngDialogCloseByDocument?!1:!0,closeByEscape:"false"===e.ngDialogCloseByEscape?!1:!0})})}}}])}(window,window.angular);