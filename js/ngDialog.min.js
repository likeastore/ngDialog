/*! ngDialog - v0.1.0 (https://github.com/likeastore/ngDialog) */
!function(a,b){"use strict";var c=b.module("ngDialog",[]),d=b.element,e=b.isDefined,f=(document.body||document.documentElement).style,g=e(f.animation)||e(f.WebkitAnimation)||e(f.MozAnimation)||e(f.MsAnimation)||e(f.OAnimation),h="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend";c.provider("ngDialog",function(){var a=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0},c=0,e=0;this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout",function(f,i,j,k,l,m,n){var o=f.find("body"),p={onDocumentKeyup:function(a){27===a.keyCode&&q.close()},closeDialog:function(a){a.unbind("click"),1===e&&o.unbind("keyup").removeClass("ngdialog-open"),e-=1,g?a.unbind(h).bind(h,function(){a.remove()}).addClass("ngdialog-closing"):a.remove()}},q={open:function(f){function g(a){return a?b.isString(a)&&h.plain?a:i.get(a)||l.get(a,{cache:!0}):"Empty template"}var h=b.copy(a);f=f||{},b.extend(h,f),c+=1;var r,s=h.scope&&b.isObject(h.scope)||m.$new();k.when(g(h.template)).then(function(a){return a=b.isString(a)?a:a.data&&b.isString(a.data)?a.data:"",h.showClose&&(a+='<div class="ngdialog-close"></div>'),r=d('<div id="ngdialog'+c+'" class="ngdialog"></div>'),r.html('<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+a+"</div>"),h.controller&&b.isString(h.controller)&&r.attr("ng-controller",h.controller),h.className&&r.addClass(h.className),h.data&&b.isString(h.data)&&(s.ngDialogData="{"===h.data.replace(/^\s*/,"")[0]?b.fromJson(h.data):h.data),n(function(){j(r)(s)}),s.$on("$destroy",function(){r.remove()}),o.addClass("ngdialog-open").append(r),h.closeByEscape&&o.bind("keyup",p.onDocumentKeyup),h.closeByDocument&&r.bind("click",function(a){var b=d(a.target).hasClass("ngdialog-overlay"),c=d(a.target).hasClass("ngdialog-close");(b||c)&&q.close(r.attr("id"))}),e+=1,q})},close:function(a){var b=d(document.getElementById(a));return b.length?p.closeDialog(b):q.closeAll(),q},closeAll:function(){var a=document.querySelectorAll(".ngdialog");b.forEach(a,function(a){p.closeDialog(d(a))})}};return q}]}),c.directive("ngDialog",["ngDialog",function(a){return{restrict:"A",link:function(b,c,d){c.on("click",function(b){b.preventDefault(),a.open({template:d.ngDialog,className:d.ngDialogClass,controller:d.ngDialogController,data:d.ngDialogData,showClose:"false"===d.ngDialogShowClose?!1:!0,closeByDocument:"false"===d.ngDialogCloseByDocument?!1:!0,closeByEscape:"false"===d.ngDialogCloseByKeyup?!1:!0})})}}}])}(window,window.angular);